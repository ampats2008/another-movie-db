import * as React from 'react';
import Head from 'next/head'
import styles from '../styles/Layout.module.css'
import Link from 'next/link';

// heroicons
import { HomeIcon } from '@heroicons/react/solid';
import { FilmIcon } from '@heroicons/react/solid';
import { DesktopComputerIcon } from '@heroicons/react/solid';
import { UsersIcon } from '@heroicons/react/solid';
import { CollectionIcon } from '@heroicons/react/solid';
import { SearchIcon } from '@heroicons/react/solid';


type LayoutProps = {
    children: React.ReactNode
}
 
const Layout: React.FC<LayoutProps> = ({children}) => {
    return (
        <>
        <Head>
            <title>Next App 1</title>
            <meta name="description" content="Generated by create next app" />
            <link rel="icon" href="/favicon.ico" />
        </Head>
        <div id={'layoutGrid'} className={styles.layoutGrid}>
            <header className={styles.header}>
                <div id='logoCont'>
                    <Link href='/'>
                        <a className='px-4 py-2 flex items-center justify-center'>
                            <HomeIcon className='mx-10 h-5 w-5 text-emerald-700' />
                        </a>
                    </Link>
                </div>
                <nav className='w-full max-w-screen-md sm:flex justify-between'>
                    <NavLink name="Home"/>
                    <NavLink name="Movies"/>
                    <NavLink name="TV"/>
                    <NavLink name="People"/>
                    <NavLink name="Genres"/>
                    <NavLink name="Search"/>
                </nav>
            </header>
            <main className={styles.main}>
                <h1 className='m-4'>Welcome to my website</h1>
                {children}
            </main>
            <footer className={styles.footer}>
                &#169; Anthony Medugno, 2022.
            </footer>
        </div>
        </>
    );
}
 
export default Layout;

type NavLinkProps = {
    name: string,
}

const NavLink: React.FC<NavLinkProps> = ({name}) => {

    const link = (name !== 'Home') ? name.toLowerCase() : '';

    const twclass = "inline h-5 w-5 text-emerald-500 group-hover:animate-[spin_500ms_ease-in-out]";

    const iconMap : {[name: string]: JSX.Element} = {
        'Home' :  <HomeIcon className={twclass} />,
        'Movies' :  <FilmIcon className={twclass} />,
        'TV' :  <DesktopComputerIcon className={twclass} />,
        'People' :  <UsersIcon className={twclass} />,
        'Genres' :  <CollectionIcon className={twclass} />,
        'Search' :  <SearchIcon className={twclass} />
    }

    return(<>
        <Link href={`/${link}`}>
            <a className='group px-4 py-2 flex items-center justify-center'>
                {iconMap[name]} {/* hero icon goes here */}
                <span className='
                ml-2
                invisible group-hover:visible 
                opacity-0 transition-all duration-500 group-hover:opacity-100 
                -translate-x-1/2 group-hover:translate-x-0'>{name}</span>
            </a>
        </Link>
    </>);
}